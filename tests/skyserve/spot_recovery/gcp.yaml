resources:
  cloud: gcp
  cpus: 2+
  use_spot: True
  accelerators: L4

workdir: sky/serve/examples/http_server

# Use 8080 to test jupyter service is terminated
run: python3 server.py --port 8080

service:
  port: 8080
  readiness_probe:
    path: /health
    initial_delay_seconds: 20
  replicas: 3
  controller_resources:
    cloud: gcp

  spot_policy: SkymapFailover
  zones: ['asia-south1-a', 'us-central1-a', 'us-east1-b', 'europe-west1-b']
